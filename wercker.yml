# wercker version for box creation
box: ubuntu:16.04

build:
  steps:
    - install-packages:
         packages: cmake rake libopencv-dev libboost-all-dev libeigen3-dev libtclap-dev libgomp1 libsuitesparse-dev git libglew-dev libglm-dev autoconf libtool freeglut3-dev libxmu-dev libxi-dev python-pip
    
    - script:
      name:  install conan
      code:  pip install conan

    # Push completed builds to Docker hub
    - internal/docker-push:
        username: $USERNAME
        password: $PASSWORD
        repository: amarburg/lsdslam-dev-host
        registry: https://registry.hub.docker.com
        tag: conan-latest
